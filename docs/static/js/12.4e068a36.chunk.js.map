{"version":3,"sources":["pages/AnalyticsPage/AnalyticsTokens.tsx"],"names":["useStyles","makeStyles","palette","breakpoints","tokensFilter","cursor","display","margin","panel","background","grey","A700","borderRadius","padding","down","AnalyticsTokens","classes","useTheme","useState","setTokensFilter","topTokens","updateTopTokens","bookmarkTokens","useBookmarkTokens","favoriteTokens","useMemo","filter","token","indexOf","id","useEffect","fetchTopTokens","a","getEthPrice","newPrice","oneDayPrice","getTopTokens","topTokensData","width","mb","hideArrow","my","px","flexWrap","alignItems","className","onClick","color","primary","main","text","disabled","variant","length","data","height"],"mappings":"+PAQMA,EAAYC,aAAW,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,YAAZ,MAA+B,CAC1DC,aAAc,CACZC,OAAQ,UACRC,QAAS,OACTC,OAAQ,kBAEVC,MAAM,aACJC,WAAYP,EAAQQ,KAAKC,KACzBC,aAAc,GACdC,QAAS,IACRV,EAAYW,KAAK,MAAQ,CACxBD,QAAS,SA+EAE,UA1EmB,WAChC,IAAMC,EAAUhB,IACRE,EAAYe,cAAZf,QACR,EAAwCgB,mBAAS,GAAjD,mBAAOd,EAAP,KAAqBe,EAArB,KAEA,EAAqCD,mBAAuB,MAA5D,mBAAOE,EAAP,KAAkBC,EAAlB,KACQC,EAAmBC,cAAnBD,eAEFE,EAAiBC,mBAAQ,WAC7B,OAAIL,EACKA,EAAUM,QACf,SAACC,GAAD,OAAgBL,EAAeM,QAAQD,EAAME,KAAO,KAG/C,KAER,CAACT,EAAWE,IAef,OAbAQ,qBAAU,WACR,IAAMC,EAAc,uCAAG,oCAAAC,EAAA,6DACrBX,EAAgB,MADK,SAEiBY,cAFjB,0CAEdC,EAFc,KAEJC,EAFI,cAGOC,YAAaF,EAAUC,EAAa,KAH3C,QAGfE,EAHe,SAKnBhB,EAAgBgB,GALG,4CAAH,qDAQpBN,MAEC,CAACV,IAGF,eAAC,IAAD,CAAKiB,MAAM,OAAOC,GAAI,EAAtB,UACE,cAAC,IAAD,CAAW9B,WAAYP,EAAQQ,KAAKC,KAAM6B,WAAW,IACrD,eAAC,IAAD,CAAKC,GAAI,EAAGC,GAAI,EAAGpC,QAAQ,OAAOqC,SAAS,OAAOC,WAAW,SAA7D,UACE,cAAC,IAAD,CACEC,UAAW7B,EAAQZ,aACnB0C,QAAS,kBAAM3B,EAAgB,IAC/B4B,MACmB,IAAjB3C,EAAqBF,EAAQ8C,QAAQC,KAAO/C,EAAQgD,KAAKC,SAJ7D,SAOE,cAAC,IAAD,CAAYC,QAAQ,KAApB,2BAEF,cAAC,IAAD,CACEP,UAAW7B,EAAQZ,aACnB2C,MACmB,IAAjB3C,EAAqBF,EAAQ8C,QAAQC,KAAO/C,EAAQgD,KAAKC,SAE3DL,QAAS,kBAAM3B,EAAgB,IALjC,SAOE,cAAC,IAAD,CAAYiC,QAAQ,KAApB,0BAEF,cAAC,IAAD,CACEP,UAAW7B,EAAQZ,aACnB2C,MACmB,IAAjB3C,EAAqBF,EAAQ8C,QAAQC,KAAO/C,EAAQgD,KAAKC,SAE3DL,QAAS,kBAAM3B,EAAgB,IALjC,SAOE,cAAC,IAAD,CAAYiC,QAAQ,KAApB,8BAGJ,cAAC,IAAD,CAAKP,UAAW7B,EAAQR,MAAxB,SACGY,GAAkC,MAArBA,EAAUiC,OACtB,cAAC,IAAD,CAAaC,KAAuB,IAAjBlD,EAAqBgB,EAAYI,IAEpD,cAAC,IAAD,CAAU4B,QAAQ,OAAOd,MAAM,OAAOiB,OAAQ","file":"static/js/12.4e068a36.chunk.js","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Box, Typography } from '@material-ui/core';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport { TopMovers, TokensTable } from 'components';\r\nimport { useBookmarkTokens } from 'state/application/hooks';\r\nimport { getEthPrice, getTopTokens } from 'utils';\r\nimport { Skeleton } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles(({ palette, breakpoints }) => ({\r\n  tokensFilter: {\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    margin: '8px 16px 8px 0',\r\n  },\r\n  panel: {\r\n    background: palette.grey.A700,\r\n    borderRadius: 20,\r\n    padding: 24,\r\n    [breakpoints.down('xs')]: {\r\n      padding: 12,\r\n    },\r\n  },\r\n}));\r\n\r\nconst AnalyticsTokens: React.FC = () => {\r\n  const classes = useStyles();\r\n  const { palette } = useTheme();\r\n  const [tokensFilter, setTokensFilter] = useState(0);\r\n\r\n  const [topTokens, updateTopTokens] = useState<any[] | null>(null);\r\n  const { bookmarkTokens } = useBookmarkTokens();\r\n\r\n  const favoriteTokens = useMemo(() => {\r\n    if (topTokens) {\r\n      return topTokens.filter(\r\n        (token: any) => bookmarkTokens.indexOf(token.id) > -1,\r\n      );\r\n    } else {\r\n      return [];\r\n    }\r\n  }, [topTokens, bookmarkTokens]);\r\n\r\n  useEffect(() => {\r\n    const fetchTopTokens = async () => {\r\n      updateTopTokens(null); //set top tokens as null to show loading status when fetching tokens data\r\n      const [newPrice, oneDayPrice] = await getEthPrice();\r\n      const topTokensData = await getTopTokens(newPrice, oneDayPrice, 200);\r\n      if (topTokensData) {\r\n        updateTopTokens(topTokensData);\r\n      }\r\n    };\r\n    fetchTopTokens();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [updateTopTokens]);\r\n\r\n  return (\r\n    <Box width='100%' mb={3}>\r\n      <TopMovers background={palette.grey.A700} hideArrow={true} />\r\n      <Box my={4} px={2} display='flex' flexWrap='wrap' alignItems='center'>\r\n        <Box\r\n          className={classes.tokensFilter}\r\n          onClick={() => setTokensFilter(0)}\r\n          color={\r\n            tokensFilter === 0 ? palette.primary.main : palette.text.disabled\r\n          }\r\n        >\r\n          <Typography variant='h6'>All Cryptos</Typography>\r\n        </Box>\r\n        <Box\r\n          className={classes.tokensFilter}\r\n          color={\r\n            tokensFilter === 1 ? palette.primary.main : palette.text.disabled\r\n          }\r\n          onClick={() => setTokensFilter(1)}\r\n        >\r\n          <Typography variant='h6'>Favourites</Typography>\r\n        </Box>\r\n        <Box\r\n          className={classes.tokensFilter}\r\n          color={\r\n            tokensFilter === 2 ? palette.primary.main : palette.text.disabled\r\n          }\r\n          onClick={() => setTokensFilter(2)}\r\n        >\r\n          <Typography variant='h6'>New Listing</Typography>\r\n        </Box>\r\n      </Box>\r\n      <Box className={classes.panel}>\r\n        {topTokens && topTokens.length === 200 ? (\r\n          <TokensTable data={tokensFilter === 0 ? topTokens : favoriteTokens} />\r\n        ) : (\r\n          <Skeleton variant='rect' width='100%' height={150} />\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AnalyticsTokens;\r\n"],"sourceRoot":""}